<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proom Night 2026 | Zenvybe</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">

    <style>
        :root { --primary: #ec1066; --dark: #0f172a; --light: #f8fafc; --glass: rgba(255, 255, 255, 0.95); }
        body { font-family: 'Outfit', sans-serif; background-color: var(--light); color: var(--dark); overflow-x: hidden; }

        /* --- HERO SECTION --- */
        .hero-section {
            position: relative; padding: 140px 0 100px;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white; margin-bottom: 40px;
        }
        .hero-title { font-weight: 800; letter-spacing: -2px; margin-bottom: 20px; text-shadow: 0 4px 20px rgba(0,0,0,0.3); }
        .hero-badge { background: var(--primary); color: white; padding: 6px 16px; border-radius: 50px; font-size: 12px; letter-spacing: 1px; text-transform: uppercase; font-weight: 700; margin-bottom: 20px; display: inline-block; }

        .btn-hero {
            background: var(--primary); color: white; border: none; padding: 15px 45px;
            font-weight: 700; border-radius: 50px; font-size: 18px; letter-spacing: 0.5px;
            box-shadow: 0 10px 30px rgba(236, 16, 102, 0.4); transition: 0.3s;
        }
        .btn-hero:hover { background: #be0049; transform: translateY(-3px); color: white; }

        .poster-card {
            border-radius: 20px; overflow: hidden;
            box-shadow: 0 30px 60px -10px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1); transform: rotate(2deg); transition: 0.3s;
        }
        .poster-card:hover { transform: rotate(0deg) scale(1.02); }
        .poster-img { width: 100%; display: block; }

        /* --- INFO GRID --- */
        .info-card { background: white; padding: 30px; border-radius: 20px; border: 1px solid #e2e8f0; height: 100%; transition: 0.3s; }
        .icon-box { width: 60px; height: 60px; background: #fff1f2; color: var(--primary); border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 28px; margin-bottom: 20px; }

        /* --- TICKET SECTION --- */
        .ticket-section { background: white; border-radius: 24px; padding: 40px; border: 1px solid #e2e8f0; box-shadow: 0 20px 40px -10px rgba(0,0,0,0.05); }
        .price-large { font-size: 42px; font-weight: 800; color: var(--dark); line-height: 1; }

        /* --- MODAL STYLES --- */
        .modal-content { border-radius: 24px; border: none; overflow: hidden; }
        .modal-header { background: #f8fafc; border-bottom: 1px solid #eee; padding: 20px 25px; }
        .form-control, .form-select { padding: 12px; border-radius: 12px; border: 1px solid #cbd5e1; background: #f8fafc; font-size: 15px; }
        .label-small { font-size: 11px; font-weight: 700; text-transform: uppercase; color: #64748b; margin-bottom: 5px; display: block; }
        
        .btn-pay { background: var(--dark); color: white; width: 100%; padding: 14px; border-radius: 12px; font-weight: 700; border: none; }
        .btn-pay:hover { background: var(--primary); }
        .btn-upi { background: white; border: 2px dashed var(--primary); color: var(--primary); width: 100%; padding: 12px; border-radius: 12px; font-weight: 700; }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg fixed-top" style="background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(0,0,0,0.05);">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#" style="font-size: 26px; color: var(--dark);"><span>zen</span><span style="color:var(--primary)">vybe</span></a>
            <button class="btn btn-sm btn-outline-dark rounded-pill px-3 fw-bold ms-auto" data-bs-toggle="modal" data-bs-target="#bookingModal">Book Ticket</button>
        </div>
    </nav>

    <header class="hero-section">
        <div class="container">
            <div class="row align-items-center gy-5">
                <div class="col-lg-6 order-2 order-lg-1">
                    <span class="hero-badge">Selling Fast &bull; Jan 24</span>
                    <h1 class="display-3 hero-title">Proom Night <br>2026</h1>
                    <p class="lead text-white-50 mb-5">The ultimate indoor party experience. Top DJs, premium vibes, and a night you won't forget.</p>
                    <button class="btn-hero" data-bs-toggle="modal" data-bs-target="#bookingModal">Book Tickets Now</button>
                </div>
                <div class="col-lg-6 order-1 order-lg-2 text-center">
                    <div class="poster-card d-inline-block">
                        <img src="https://zenvybe.in/Events/uploads/events/events_1768744636.png" class="poster-img" alt="Poster" style="max-width: 380px;">
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="modal fade" id="bookingModal" data-bs-backdrop="static" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <div>
                        <h5 class="fw-bold mb-0">Manual UPI Checkout</h5>
                        <p class="mb-0 small text-muted">2-step payment verification</p>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="row g-3">
                        <div class="col-12">
                            <label class="label-small">Full Name</label>
                            <input type="text" id="in_name" class="form-control" placeholder="Rahul Sharma">
                        </div>
                        <div class="col-6">
                            <label class="label-small">Phone</label>
                            <input type="tel" id="in_phone" class="form-control" placeholder="+91">
                        </div>
                        <div class="col-6">
                            <label class="label-small">Email</label>
                            <input type="email" id="in_email" class="form-control" placeholder="name@email.com">
                        </div>
                        <div class="col-12">
                            <label class="label-small">Ticket Type</label>
                            <select id="in_ticket" class="form-select" onchange="updateBtnPrice()">
                                <option value="299" data-name="Standard Entry">Standard Entry – ₹299</option>
                                <option value="499" data-name="Gold Pass">Gold Pass – ₹499</option>
                                <option value="799" data-name="VIP Access">VIP Access – ₹799</option>
                            </select>
                        </div>

                        <div class="col-12">
                            <div class="p-3 bg-light rounded-3 border">
                                <label class="label-small text-dark">Step 1: Make Payment</label>
                                <button class="btn-upi" onclick="handleUPIPayment()">
                                    <i class="bi bi-qr-code-scan me-2"></i> Pay <span id="modal-price-display">₹299</span>
                                </button>
                                <div id="qrBox" class="d-none text-center mt-3">
                                    <img id="upiQR" style="max-width:180px;" class="border rounded">
                                    <br>
                                    <a id="qrDownload" class="small fw-bold text-decoration-none" download="Payment-QR.png">Download QR</a>
                                </div>
                            </div>
                        </div>

                        <div class="col-12">
                            <label class="label-small text-dark">Step 2: Enter Details</label>
                            <div class="row g-2">
                                <div class="col-6">
                                    <input id="user_upi" class="form-control" placeholder="Your UPI ID">
                                </div>
                                <div class="col-6">
                                    <input id="in_utr" class="form-control" placeholder="UTR / Ref No">
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="btn-pay mt-4" id="submitBtn" onclick="SubmitToWorker()">Verify & Book Ticket</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const CONFIG = {
            MY_UPI_ID: "6300476242@ibl",
            WORKER_URL: "https://withered-heart-20dd.krish32627.workers.dev/"
        };

        function updateBtnPrice() {
            const price = document.getElementById('in_ticket').value;
            document.getElementById('modal-price-display').innerText = '₹' + price;
        }

        function handleUPIPayment() {
            const name = document.getElementById('in_name').value;
            const amt = document.getElementById('in_ticket').value;
            
            if(!name || !document.getElementById('in_phone').value) {
                alert("Please enter Name and Phone and email first.");
                return;
            }

            const upiUrl = `upi://pay?pa=${CONFIG.MY_UPI_ID}&pn=Zenvybe&am=${amt}&cu=INR&tn=PromNight-${encodeURIComponent(name)}`;
            const qrApi = `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(upiUrl)}`;
            
            const upiQR = document.getElementById('upiQR');
            upiQR.src = qrApi;
            document.getElementById('qrDownload').href = qrApi;
            document.getElementById('qrBox').classList.remove('d-none');

            // Attempt to open UPI apps on mobile
        
        }

        async function SubmitToWorker() {
            const submitBtn = document.getElementById('submitBtn');
            const data = {
                name: document.getElementById('in_name').value.trim(),
                phone: document.getElementById('in_phone').value.trim(),
                email: document.getElementById('in_email').value.trim(),
                user_upi: document.getElementById('user_upi').value.trim(),
                utr: document.getElementById('in_utr').value.trim(),
                ticket: document.getElementById('in_ticket').options[document.getElementById('in_ticket').selectedIndex].dataset.name,
                price: document.getElementById('in_ticket').value
            };

            if (!data.name || !data.utr) {
                alert("Please fill all fields and provide UTR.");
                return;
            }

            submitBtn.disabled = true;
            submitBtn.innerText = "Verifying...";

            try {
                const response = await fetch(CONFIG.WORKER_URL, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                if (result.status === "success" || response.ok) {
                    alert("Submitted! Verification is pending. We will contact you shortly.");
                    location.reload();
                } else {
                    alert("Submission failed. Please try again.");
                }
            } catch (e) {
                alert("Error connecting to server.");
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerText = "Verify & Book Ticket";
            }
        }
    </script>
</body>
</html>
