<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proom Night 2026 | Zenvybe</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">

    <style>
        :root { --primary: #ec1066; --dark: #0f172a; --light: #f8fafc; --glass: rgba(255, 255, 255, 0.95); }
        body { font-family: 'Outfit', sans-serif; background-color: var(--light); color: var(--dark); overflow-x: hidden; }

        /* --- HERO SECTION --- */
        .hero-section {
            position: relative; padding: 140px 0 100px;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white; margin-bottom: 40px;
        }
        .hero-title { font-weight: 800; letter-spacing: -2px; margin-bottom: 20px; text-shadow: 0 4px 20px rgba(0,0,0,0.3); }
        .hero-badge { background: var(--primary); color: white; padding: 6px 16px; border-radius: 50px; font-size: 12px; letter-spacing: 1px; text-transform: uppercase; font-weight: 700; margin-bottom: 20px; display: inline-block; }

        /* CTA BUTTONS */
        .btn-hero {
            background: var(--primary); color: white; border: none; padding: 15px 45px;
            font-weight: 700; border-radius: 50px; font-size: 18px; letter-spacing: 0.5px;
            box-shadow: 0 10px 30px rgba(236, 16, 102, 0.4); transition: 0.3s;
        }
        .btn-hero:hover { background: #be0049; transform: translateY(-3px); box-shadow: 0 15px 40px rgba(236, 16, 102, 0.6); color: white; }

        /* --- POSTER IMAGE --- */
        .poster-card {
            border-radius: 20px; overflow: hidden;
            box-shadow: 0 30px 60px -10px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1); transform: rotate(2deg); transition: 0.3s;
        }
        .poster-card:hover { transform: rotate(0deg) scale(1.02); }
        .poster-img { width: 100%; display: block; }

        /* --- INFO GRID --- */
        .info-card { background: white; padding: 30px; border-radius: 20px; border: 1px solid #e2e8f0; height: 100%; transition: 0.3s; }
        .info-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.05); border-color: var(--primary); }
        .icon-box { width: 60px; height: 60px; background: #fff1f2; color: var(--primary); border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 28px; margin-bottom: 20px; }

        /* --- TICKET CARD (Bottom Section) --- */
        .ticket-section { background: white; border-radius: 24px; padding: 40px; border: 1px solid #e2e8f0; box-shadow: 0 20px 40px -10px rgba(0,0,0,0.05); }
        .price-large { font-size: 42px; font-weight: 800; color: var(--dark); line-height: 1; }

        /* --- MODAL (The Booking Engine) --- */
        .modal-content { border-radius: 24px; border: none; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        .modal-header { background: #f8fafc; border-bottom: 1px solid #eee; padding: 25px 30px; }
        .form-control, .form-select { padding: 14px; border-radius: 12px; border: 1px solid #cbd5e1; background: #f8fafc; font-weight: 500; font-size: 15px; }
        .form-control:focus { background: white; border-color: var(--primary); box-shadow: 0 0 0 4px rgba(236, 16, 102, 0.1); }
        .label-small { font-size: 12px; font-weight: 700; text-transform: uppercase; color: #64748b; margin-bottom: 8px; display: block; }
        
        .btn-pay { background: var(--dark); color: white; width: 100%; padding: 16px; border-radius: 12px; font-weight: 700; border: none; font-size: 16px; transition: 0.3s; }
        .btn-pay:hover { background: var(--primary); }

        .btn-upi { background: white; border: 2px dashed var(--primary); color: var(--primary); width: 100%; padding: 12px; border-radius: 12px; font-weight: 700; transition: 0.3s; }
        .btn-upi:hover { background: #fff1f2; }

    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg fixed-top" style="background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(0,0,0,0.05);">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#" style="font-size: 26px; color: var(--dark); letter-spacing: -1px;"><span>zen</span><span style="color:var(--primary)">vybe</span></a>
            <a href="#" class="btn btn-sm btn-outline-dark rounded-pill px-3 fw-bold ms-auto d-lg-none" data-bs-toggle="modal" data-bs-target="#bookingModal">Book Ticket</a>
        </div>
    </nav>

    <header class="hero-section">
        <div class="container">
            <div class="row align-items-center gy-5">
                <div class="col-lg-6 order-2 order-lg-1">
                    <span class="hero-badge">Selling Fast &bull; Jan 24</span>
                    <h1 class="display-3 hero-title">Proom Night <br>2026</h1>
                    <p class="lead text-white-50 mb-5" style="max-width: 90%;">The ultimate indoor party experience. Top DJs, premium vibes, and a night you won't forget.</p>
                    
                    <button class="btn-hero" data-bs-toggle="modal" data-bs-target="#bookingModal">
                        Book Tickets Now
                    </button>
                </div>
                
                <div class="col-lg-6 order-1 order-lg-2">
                    <div class="text-center">
                        <div class="poster-card d-inline-block">
                            <img src="https://zenvybe.in/Events/uploads/events/events_1768744636.png" class="poster-img" alt="Poster" style="max-width: 380px;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section class="container mb-5" style="margin-top: -60px; position: relative; z-index: 2;">
        <div class="row gy-4">
            <div class="col-md-4">
                <div class="info-card">
                    <div class="icon-box"><i class="bi bi-geo-alt-fill"></i></div>
                    <h4 class="fw-bold mb-2">Venue</h4>
                    <p class="text-muted mb-0">STONE WATER, beside Vaisakhi Skyline, Yendada, Visakhapatnam.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="info-card">
                    <div class="icon-box"><i class="bi bi-music-note-beamed"></i></div>
                    <h4 class="fw-bold mb-2">Experience</h4>
                    <p class="text-muted mb-0">Non-stop DJ sets, interactive social games, and premium F&B.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="info-card">
                    <div class="icon-box"><i class="bi bi-clock-history"></i></div>
                    <h4 class="fw-bold mb-2">Time</h4>
                    <p class="text-muted mb-0">Gates Open: 7:30 PM<br>Party till late night.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="container pb-5 mb-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                
                <div class="mb-5">
                    <h3 class="fw-bold mb-3">About the Event</h3>
                    <p class="text-secondary fs-5" style="line-height: 1.8;">
                        <strong>Proom Night</strong> is a high-energy indoor party experience created for people who love music, social vibes, and unforgettable nights out. 
                        Unlike typical club nights, we curate specific "Ice Breaker" moments to help you meet new people while enjoying back-to-back hits from the city's top DJs.
                    </p>
                </div>

                <div class="ticket-section d-md-flex justify-content-between align-items-center">
                    <div class="mb-4 mb-md-0">
                        <small class="text-uppercase fw-bold text-muted ls-1">Tickets Starting From</small>
                        <div class="price-large mt-1">₹299</div>
                        <div class="text-success small mt-1"><i class="bi bi-check-circle-fill"></i> Available Now</div>
                    </div>
                    <div>
                        <button class="btn btn-dark btn-lg px-5 py-3 rounded-pill fw-bold" data-bs-toggle="modal" data-bs-target="#bookingModal">
                            Get Your Pass <i class="bi bi-arrow-right ms-2"></i>
                        </button>
                    </div>
                </div>

                <hr class="my-5">
                <div class="text-center text-muted small">
                    &copy; 2026 Zenvybe Events. All Rights Reserved.
                </div>
            </div>
        </div>
    </section>

    <div class="modal fade" id="bookingModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                
                <div class="modal-header">
                    <div>
                        <h5 class="modal-title fw-bold">Manual UPI Checkout</h5>
                        <p class="mb-0 small text-muted">Pay via App & Verify UTR</p>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body p-0">
                    
                    <div id="form-view" class="p-4">
                        <div class="row g-3">
                            <div class="col-12">
                                <label class="label-small">Full Name</label>
                                <input type="text" id="in_name" class="form-control" placeholder="e.g. Rahul Sharma">
                            </div>
                            <div class="col-6">
                                <label class="label-small">Phone Number</label>
                                <input type="tel" id="in_phone" class="form-control" placeholder="+91...">
                            </div>
                            <div class="col-6">
                                <label class="label-small">Email Address</label>
                                <input type="email" id="in_email" class="form-control" placeholder="name@email.com">
                            </div>
                            <div class="col-12 pt-2">
                                <label class="label-small">Select Ticket</label>
                                <div class="position-relative">
                                    <select class="form-select" id="in_ticket" onchange="updateBtnPrice()">
                                        <option value="2" data-name="Standard Entry">Standard Entry - ₹2</option>
                                        <option value="2" data-name="Gold Pass">Gold Pass - ₹2</option>
                                        <option value="2" data-name="VIP Access">VIP Access - ₹2</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-12 mt-4">
                                <div class="p-3 bg-light rounded-3 border">
                                    <label class="label-small text-dark mb-2">Step 1: Make Payment</label>
                                    <button class="btn-upi" onclick="handleUPIPayment()">
                                        <i class="bi bi-qr-code-scan me-2"></i> Pay <span id="btn-price">₹299</span> via UPI App
                                    </button>
                                    <div class="text-center mt-2 text-muted" style="font-size: 10px;">
                                        Click to open GPay / PhonePe / Paytm
                                    </div>
                                </div>
                             </div>

                             <div class="col-12">
                                <label class="label-small text-dark mt-2">Step 2: Verification Details</label>
                            </div>
                            <div class="col-6">
                                <input type="text" id="user_upi" class="form-control" placeholder="Your UPI ID">
                                <div class="form-text" style="font-size: 10px;">e.g. rahul@oksbi</div>
                            </div>
                            <div class="col-6">
                                <input type="text" id="in_utr" class="form-control" placeholder="12-digit UTR/Ref">
                                <div class="form-text" style="font-size: 10px;">Transaction ID</div>
                            </div>
                        </div>

                        <button class="btn-pay mt-4" onclick="SubmitToWorker()">
                            Verify Payment & Book Ticket
                        </button>
                        
                        <div class="text-center mt-3 d-flex justify-content-center align-items-center gap-2 text-muted" style="font-size: 11px;">
                            <i class="bi bi-shield-lock-fill text-dark"></i> Secure Verification
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const CONFIG = {
            MY_UPI_ID: "6300476242@ibl", // <-- ⚠️ Update this to your UPI ID
            WORKER_URL: "https://withered-heart-20dd.krish32627.workers.dev/" // <-- Update this if needed
        };

        function updateBtnPrice() {
            document.getElementById('btn-price').innerText = '₹' + document.getElementById('in_ticket').value;
        }

        function handleUPIPayment() {
            const name = document.getElementById('in_name').value.trim();
            const phone = document.getElementById('in_phone').value.trim();
            const amount = document.getElementById('in_ticket').value;
            
            if(!name || !phone) {
                alert("Please enter Name and Phone number before paying.");
                return;
            }

              // ✅ Encode transaction note (CRITICAL)
              const note = encodeURIComponent(`PromNight-${name}`);

          // ✅ Universal UPI link (Android + iOS)
// ✅ PhonePe-safe UPI link (personal UPI)
const upiUrl =
  `upi://pay?pa=${CONFIG.MY_UPI_ID}` +
  `&am=${amount}` +
  `&cu=INR`;
            // UPI URI Construction (Intent Link)
            // Note: This works best on Mobile devices with UPI apps installed
            
            // Redirect to UPI App
            window.location.href = upiUrl;
        }

        async function SubmitToWorker() {
            const utr = document.getElementById('in_utr').value.trim();
            const userUpi = document.getElementById('user_upi').value.trim();
            const name = document.getElementById('in_name').value.trim();
            const email = document.getElementById('in_email').value.trim();
            const phone = document.getElementById('in_phone').value.trim();

            // Basic Validation
            if (!name || !email || !phone) {
                alert("Please fill in your personal details (Name, Email, Phone).");
                return;
            }

            if (!utr || utr.length < 10) {
                alert("Please enter a valid 12-digit UTR / Reference Number.");
                return;
            }
            
            if (!userUpi) {
                alert("Please enter the UPI ID you used for payment.");
                return;
            }

            // Show Loading State (Optional UI improvement)
            const submitBtn = document.querySelector('.btn-pay');
            const originalText = submitBtn.innerText;
            submitBtn.innerText = "Verifying...";
            submitBtn.disabled = true;

            const payload = {
                name: name,
                email: email,
                phone: phone,
                user_upi: userUpi,
                utr: utr,
                ticket: document.getElementById('in_ticket').options[document.getElementById('in_ticket').selectedIndex].getAttribute('data-name'),
                price: document.getElementById('in_ticket').value
            };

            try {
                const response = await fetch(CONFIG.WORKER_URL, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(payload)
                });
                
                const result = await response.json();
                
                if (result.status === "success" || result.status === "ok") {
                    alert("Submission successful! Your ticket is pending verification. Check your email.");
                    location.reload();
                } else {
                    alert("Error: " + (result.message || "Verification failed"));
                    submitBtn.innerText = originalText;
                    submitBtn.disabled = false;
                }
            } catch (e) {
                console.error(e);
                alert("Server Error. Please try again later.");
                submitBtn.innerText = originalText;
                submitBtn.disabled = false;
            }
        }
    </script>
</body>
</html>
